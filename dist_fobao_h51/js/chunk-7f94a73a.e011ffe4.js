(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f94a73a"],{"0549":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAEvUlEQVRYR82YXWgcVRTH/+dOWmOzC3moEKFiRR+sttCyuzGKYAMWLS2oUJFig30I1OwmaDFgQaGBClZIMKG7k6RJoWDBgHkwUIlgJQELts1sXWithQYq2Ic++LBmY2zJzDky2+xmP2Z3Zj8SMm/Jnvs/v7nn3HPPGcIGf2iD86FqwKMzaPT5EGBSbSBsh0gLQW21X1gEJkjmAcyT4oT8g6t6Oxar2YyKAG2oRh8OKFAnQHuJqNGLUxF5AMhlKBlfWsDU+XY88LLOtvEEaINt8atjEJwgohav4k52InIfQHRpkQe8gLoCdl3Ha8RqnEDP1QJWtFbkHsDdsRCmyumWBNw7g4YX/OoUCXpB1FBXuBwxERlZWuTjpXbTETAN56NvidShtQLL1RXwZaRkv9NBKgJcb7gMaCnIIsDInPoaRB+vx84V+Ji1xOoZCeFm7v/zALsMu4RoF9cPTkwQJk2TB0ZfguHkNwtol5Imn7oDom1rDZiuiwrjeMhD+iuwC3r26Y7jjcUFXD3fjmReHQwb6iMCDa4tnCSFMAiLR/VW2PUw+0Su42lhGiSotwXSqwd5oBDwTt1r3Yp7gfwJYHApxaOF5SR9CfjUJwA+X72Z5HYsyDuygGEDrxK0X8rtnh0Wr1fbqo4kmHngj38xMdsOs1A/Moe3hFS/08awab083IYr6RwMx9VJEuorAzj70LQ6Nm+iMRL1pnsa8EUWGRoO4ZKTbY+BZy3RokQooyUnYkH+6hHgnDbtYpz8PcVP2LsQjqtjJDgNUHNesbUTnzDBwgOFpSJjF56Bj/zqUxH0ukVDwN/rQXnnEaChXPOPYR0cDuIH277zCrZtblCnABwEsKiACWYeKkz83BcIx/Eeser3WiVEJKGHeE8G8C6BtpcNnfCPsZDsdw9vvkUkgRfF0gZJ8Hola+2DpQf5mZUc1H7yIrAMa8fZIG57cXR0Bs2P+9RJBXRX02zkAUYMNYZ0E+ryiAzGQnzczSwcx/tg1V9L7yiES3rA2rdySFQ3EZ1xcwxIUlL8VKn2vSuOANmnE2hz1ypvQSTRaIB70oAfzmGnRtoNT6Ik3bEAx3Jt7XBu8asvSdBZTTid/DJbHcOtuJC9iyOG+gtwv4cFclMP8q6MaMTAByLqdC3hLAYUcxn85Nkg/s4ChuPqMxL6wssuisgFEBIQHCGi3V7WVGIj4Ek9KO/aa3K7meYmv7pbWIArEa6XrbC1R29FIg/Q/qPLQKeCNlYvR9Xo5O5eEWD6VonTtLf7thr3bmvk/jJ4l517Gcuilt8+kU1+9StAz7vJ1fd3MS3hfSMhzObqOk514WtoIaVm1g9STBE+rIcwWfjSJediGxJKTRPqf0rzISRpEXeMBOA4C5X9spBuj3zadyjbt9UQaIEhy9bhwrnENcS5BuG4+oaEjtSA4bBUkgL03UpxzKnTrgzQUDcItLM+gDIvQBQpPuf1c1zZEKdHUb/23ypceo6NWib/rDR1ALBnmdLwK3PMFSGZhcVTmeJbycuWz8Fr2E1K+y0tKDDYsnrsQSbXQbpReAxbeRPy5mnTwvx4G+5VAuNkWx5wDoeI1Bkh9N1a4HNu+VIrTMWAa+GwUk3XD5iVCtbbfsMD/g+Joek4Nkf5fwAAAABJRU5ErkJggg=="},"22ce":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAFAklEQVRYR9WZUYhUZRTHf+fOWFvOXV3cctMEA4UkBaGFlFpaKR+iXoKgFQoM3Rk32zR6yAUhX2KNHipqW2fWyGDBIkEhoZcgo4UUFIwEfVhYwWV1a0nXmd2G9c6c+O7MrLMzd+beO8lS83rPOd//+853/uf/nREa/E0neSoidCq0ozwOtCK0ueGUG8AUwhWB8znlzLIE5xpZSsI4ZYZYSZ79KrwGPBrGFxgXZRiLT2LdTAb1DQTwdpJWgX4KwJqCBq9hl0UZVuhrTjDlF8sXYPoIryJ8jtDqFyzUd2UK5S17D9/W86sJUA8RzaziM2BPqIXDGx+JTdArh3C8XD0B/jFArGkJxwVeCr9eeA+F09k77Hh4L5lK7yqA5uTSqzi5WOBKgAxIe4KXK0+yCmA6xeAipLXWMR+x4/SUf1wA0C0Ii298k6Q4KL2qjIvFc8XqXlhEhguFo5rjnBXhCYXDvnGNQZ6u8sKZB1ikkssBq3XEjtNRWnDsEE2tq9kleXaqkNUcX9qTDJenK5NiTGGtL0hlypllfcs73DK28wDTSYYQdvsGKBhknRwbWnq4GsR+Zogn88r5ILZFm/lUuwAzA7RplGsI0RBBzsQm2F6LHkpxDCM8EOVXhI0hYmflDo/F9nKjADBJvwoHQgQomCqnBE7V88vDbhGeCRtblMOxBH0uwHSKaw30VuM6qvBBzcWVqAjvNxh73I6zRqa/YItlUtDYbySn7Lw/4t0F7szRJBFOhEzvPJK8w1bJpHgvMAVUb2JUYKTe3hSeb/AETQUfkHSK74BXQh+gMvK3wwte7ak8lluAS/gB2Bx6DTgh6SS/h02BKuezDtv8wJUAFUH+AqwLBVK5ZABen1fCwbxvzWXZtOJtxivNDRCaWBnbxW9V31JsVty7HlxPKjdMijUYriKz5HijuYdjXj6ZFPvy0GVP0OHFj43c97AAz9pxtlaCmz3K07mcW61tKI4KGUvZH0vwdbltUWNeDpPqUCnOwfblcX6sBFi6x6p0WA6jblcCnFkeKvXUks/tQXZKhK8CZc1NcdAiUS7ZCTZ5BU6n3Lu1BeVg7Dof/rWaNsshunyS8cpUu6f4iNtWCy/A+hx1KTDNWMrBpQnvrjE9wDorykcUFLhRIcNicbjW6y2d5GOE/X74MDQT9OKqsqE5wZV6QY1ksyzeVeWAKlft66z3Kpb0IJ1E+MkPoEvUAVvdLTtOi2d6B9moFt8LjNsJOoqFkDZ0MiesWdFdTUdFhXPTTz25rc4sGkAsLBCoVUVytxtdVMURoV2E4Vg3r9c6pQACtiAWTIDMEP0mLXWO/IwdZ1u9lNxMsTmKq1xaHehtiXOxnr0fQBH3DhfkVrEVjdVieYXR5jjr/e6MARlRYs2J+gKimLU/3XmO92+hYHUdhhhCa0t+S2hf2s0FP5BBvs8keTEvnK5ju1DyG0P30SQYlq+1q1FL6Pq3IBd0HW+EU86Mx6PJ2E4P0mVFOO5Dnkb/mQeQ0YJVkwBPX2G5KmsROv1kVz7HjmU9d5++/6+Hu9m94bGZVZzURZrLlE5c4PTSIKMP42CI9MElHF8skAbcbNDhUWlH/+nxW/lFLxaOmRPe2wEmTOVz9JYXhFeB+U5Y5ynIoh+9RyNgOObM0FepFRsGWHJ03xz3sU8LQMMP0YVh5vjUjDSCELqxCXSCXsGMCopEeTbQ3xAOPy97k7NBQZXb/QM2me3s2OomYgAAAABJRU5ErkJggg=="},"46f6":function(t,e,s){"use strict";s("5002")},5002:function(t,e,s){},b884:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page"},[e("van-nav-bar",{attrs:{title:"选择支付方式",fixed:!0,"left-arrow":""},on:{"click-left":t.onBack}}),e("div",{staticClass:"inner"},[e("div",{staticClass:"daijin-buzu"},[e("van-radio-group",{on:{change:t.changePayType},model:{value:t.payType,callback:function(e){t.payType=e},expression:"payType"}},[e("van-cell-group",t._l(t.list_payType,(function(s,a){return e("van-cell",{key:a,attrs:{clickable:""},on:{click:function(e){t.payType=s.title}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("img",{staticClass:"marker",attrs:{src:s.icon,alt:""}})]},proxy:!0},{key:"title",fn:function(){return[e("div",{staticClass:"type-title"},[t._v(t._s(s.desc||s.title))])]},proxy:!0},{key:"right-icon",fn:function(){return[e("van-radio",{attrs:{name:s.title,"checked-color":"#33B8C1"}})]},proxy:!0}],null,!0)})})),1)],1)],1)]),e("div",{staticClass:"footer"},[e("van-button",{attrs:{block:""},on:{click:t.onConfirm_pay}},[t._v("确定")])],1),e("van-popup",{staticStyle:{width:"100%",height:"90%"},attrs:{closeable:"",round:"",position:"bottom"},model:{value:t.passwordInpt,callback:function(e){t.passwordInpt=e},expression:"passwordInpt"}},[e("div",{staticClass:"popupContent"},[e("div",{staticClass:"title"},[t._v("请输入支付密码")]),e("div",{staticClass:"font-1",staticStyle:{padding:"10px 0"}},[t._v(t._s(t.$store.state.webTitle))]),e("div",{staticClass:"v-flex"},[e("span",{staticClass:"font-3"},[t._v("￥")]),e("span",{staticClass:"font-2"},[t._v(t._s(t.payment_money))])]),e("div",{staticStyle:{width:"100%",height:"10px"}},[e("van-divider")],1),e("div",{staticClass:"pop-payType"},[e("span",{staticClass:"font-4"},[t._v("支付方式")]),e("div",{staticClass:"font-5"},[t._v(" "+t._s(t.payType)+" ")])]),e("div",{staticStyle:{width:"100%"}},[e("van-password-input",{attrs:{value:t.passwordValue,focused:t.showKeyboard},on:{focus:function(e){t.showKeyboard=!0}}}),e("van-number-keyboard",{attrs:{show:t.showKeyboard},on:{blur:function(e){t.showKeyboard=!1}},model:{value:t.passwordValue,callback:function(e){t.passwordValue=e},expression:"passwordValue"}})],1)])])],1)},o=[],i=(s("4e3f"),s("36fc")),r=s("7736"),n={name:"payType",components:{},data(){return{passwordInpt:!1,passwordValue:"",showKeyboard:!0,order:{},order_id:this.$route.query.order_id,payType:"微信支付",pay_info:{},cut_price:0,list_payment:[],currency:"￥",list:[],product_info:[],orderMoney:0}},computed:{...Object(r["b"])(["baseInfo","wx_code"]),list_payType(){let t=[{title:"微信支付",icon:s("0549"),desc:""}];return t=[{title:"微信支付",icon:s("0549"),desc:""},{title:"余额支付",icon:s("22ce"),desc:`余额支付(可用余额${this.baseInfo.money})`}],t},payment_money(){let t=0;return this.order&&(t=this.order.price),t}},watch:{order(t){t&&this.order.id&&(this.pay_info=t.pay_info,this.list_payment=t.products,this.cut_price=t.dao_price)},passwordValue(t){6===t.length?this.orderPayYue():this.errorInfo=""},baseInfo(t,e){}},created(){this.setView()},methods:{queryYuePass(){this.baseInfo.payPass||i["a"].confirm({title:"信息提示？",message:"检测到您尚未设置余额支付密码，是否前去设置?"}).then(()=>{this.$router.push("/changePassword")}).catch(()=>{})},setView(){this.$store.dispatch("getUserInfo"),this.orders_detail()},orders_detail(){this.$api("orders_detail",{id:this.order_id}).then(t=>{let{code:e,data:s}=t;1==e&&(this.order=s)})},changePayType(t){console.log(t),this.payType=t},onBack(){this.$router.push({path:"/myOrder"})},onConfirm_pay(){console.log(this.payType),this.payType?"微信支付"==this.payType?this.orderPayWxJsapi():"余额支付"==this.payType&&this.orderPayYue():alert("请选择支付方式")},orderPayWxJsapi(){let t=this;this.$api("orders_wxPay",{order_id:this.order_id,code:this.wx_code}).then(e=>{let{code:s,data:a,message:o}=e;if(1==s){console.log("订单微信jsapi支付",a);let{timeStamp:e,nonceStr:s,signType:o,paySign:i}=a;wx.chooseWXPay({timestamp:e,nonceStr:s,package:a.package,signType:o,paySign:i,success:function(e){alert("支付成功"),t.jump_payDone()},fail(t){console.log("支付失败了"),alert("支付失败")}})}else alert(o)})},orderPayYue(){this.$api("orders_yuePay",{order_id:this.order_id}).then(t=>{let{code:e,data:s,message:a}=t;alert(a),1==e?this.jump_payDone():this.toFail()})},jump_payDone(){this.$router.push("/orderPaymentSuccess?order_id="+this.order_id)},toFail(){this.$router.push("/orderPaymentFailed?order_id="+this.order_id)}}},c=n,d=(s("46f6"),s("0b56")),p=Object(d["a"])(c,a,o,!1,null,"25f0e065",null);e["default"]=p.exports}}]);