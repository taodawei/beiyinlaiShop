(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ed1f6bb"],{"40ea":function(e,t,s){},de87:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page"},[t("div",{staticClass:"fixed-top"},[t("div",{staticClass:"search-box"},[t("van-search",{attrs:{"show-action":"",shape:"round",background:"#fff",placeholder:"输入关键字搜索"},on:{search:e.onSearchByKeyWord},scopedSlots:e._u([{key:"action",fn:function(){return[t("van-button",{staticStyle:{"border-radius":"5px",padding:"0 12px"},attrs:{type:"danger",size:"small"},on:{click:e.onSearchByKeyWord}},[e._v("搜索")])]},proxy:!0}]),model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),t("div",{staticClass:"header filter-box"},[t("van-dropdown-menu",[t("van-dropdown-item",{attrs:{title:"综合",options:e.opts_zonghe},on:{change:e.onChange_sort_zonghe},model:{value:e.selected_zonghe,callback:function(t){e.selected_zonghe=t},expression:"selected_zonghe"}}),t("van-dropdown-item",{attrs:{title:"销量",options:e.opts_sale_num},on:{change:e.onChange_sort_sale_num},model:{value:e.selected_sale_num,callback:function(t){e.selected_sale_num=t},expression:"selected_sale_num"}}),t("van-dropdown-item",{attrs:{title:"价格",options:e.opts_price},on:{change:e.onChange_sort_price},model:{value:e.selected_price,callback:function(t){e.selected_price=t},expression:"selected_price"}})],1)],1)]),t("div",{staticClass:"inner"},[t("div",{staticClass:"list-box"},[t("searchGoodsListInfinity",{attrs:{params:e.params}})],1)])])},a=[],r=(s("4e3f"),s("2c12")),n={name:"search-detail",components:{searchGoodsListInfinity:r["a"]},data(){return{useCache:!1,opts_zonghe:[{text:"默认排序",value:"ordering"}],opts_price:[{text:"价格升序",value:"asc"},{text:"价格降序",value:"desc"}],opts_sale_num:[{text:"销量升序",value:"asc"},{text:"销量降序",value:"desc"}],selected_zonghe:"",selected_price:"",selected_sale_num:"",list:[],params:{},keyword:this.$route.query.keyword||"",params:{page:1,pagenum:1e3,keyword:this.$route.query.keyword}}},computed:{scrollTop(){return this.pageScrollTopMap[this.$route.name]}},watch:{params(){}},beforeRouteEnter(e,t,s){s(e=>{t.name&&t.name.includes("goodsDetail")?e.useCache=!0:e.useCache=!1})},beforeRouteLeave(e,t,s){let o=this.getScrollWrap(),a=o.scrollTop;e.name.includes("goodsDetail")?this.$store.commit("set_pageScrollTopMap",{page:this.$route.name,scrollTop:a}):this.$store.commit("set_pageScrollTopMap",{page:this.$route.name,scrollTop:0}),s()},activated(){console.log("首页 activated"),this.useCache||this.params.channel_id!=this.$route.query.id&&(this.params={channel_id:this.$route.query.id}),this.$nextTick(()=>{let e=this.getScrollWrap();document&&e&&(e.scrollTop=this.scrollTop)})},created(){},methods:{getScrollWrap(){return document.querySelector("html")||{}},onSearchByKeyWord(){this.set_params_all({keyword:this.keyword})},onClickLeft(){this.$route.query&&this.$route.query.wxshare?this.$router.push("/"):this.$router.back()},onChange_sort_zonghe(e){console.log("综合",e),this.selected_price="",this.selected_sale_num="",this.set_params_all({order1:e})},onChange_sort_sale_num(e){console.log("销量",e),this.selected_price="",this.selected_zonghe="",this.set_params_all({order1:"orders",order2:e})},onChange_sort_price(e){console.log("售价",e),this.selected_sale_num="",this.selected_zonghe="",this.set_params_all({order1:"price_sale",order2:e})},set_params_all(e){this.params={...this.params,...e}}}},l=n,c=(s("ec08"),s("0b56")),i=Object(c["a"])(l,o,a,!1,null,"fc722850",null);t["default"]=i.exports},ec08:function(e,t,s){"use strict";s("40ea")}}]);