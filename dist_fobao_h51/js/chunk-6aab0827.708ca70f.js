(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6aab0827"],{"434e":function(t,s,e){"use strict";e("fb42")},"48dc":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"page"},[s("div",{staticClass:"inner"},[s("div",{staticClass:"tab-box"},[s("van-tabs",{model:{value:t.status,callback:function(s){t.status=s},expression:"status"}},t._l(t.list_tab,(function(t,e){return s("van-tab",{key:e,attrs:{title:t.title,name:t.status}})})),1)],1),s("div",{staticClass:"content"},[s("couponList",{attrs:{list:t.list_coupon}})],1)])])},a=[],n=(e("4e3f"),e("6f57")),o=e("720e"),c={name:"orderList",components:{couponList:o["a"]},data(){return{status:1,list_tab:[{title:"未使用",status:1},{title:"已使用",status:2},{title:"已过期",status:3}],list_coupon:[],pagination:{page:1,pagenum:1e3}}},watch:{status(){this.setView()}},created(){this.setView()},methods:{setView(){n["a"].getMyList({params:{scene:this.status,...this.pagination},success:t=>{this.list_coupon=t}})},onClickLeft(){this.$router.back()},onClickRight(){this.$router.push("/couponCenter")}}},u=c,l=(e("434e"),e("0b56")),r=Object(l["a"])(u,i,a,!1,null,"246a1692",null);s["default"]=r.exports},"6f57":function(t,s,e){"use strict";var i=e("bbf7");const a=i["a"].api,n={page:1,pagenum:1e3};s["a"]={getList({params:t,success:s}=opt){a("users_yhqList",{...n,...t}).then(t=>{let{code:e,data:i}=t;1==e&&s(i)})},getMyList({params:t,success:s}=opt){a("users_myYhqList",t).then(t=>{let{code:e,data:i}=t;1==e&&s(i)})},pick({params:t,success:s}=opt){t.id;a("users_yhqLingqu",t).then(t=>{let{code:e,data:i,message:a}=t;alert(a),1==e&&s(i)})},delete(t,s){let e=t.id;a("userAddress_delete",{id:e}).then(e=>{let{code:i,message:a}=e;if(console.log("删除地址",e),alert(a),1==i){let e=s.findIndex(s=>s.id==t.id);s.splice(e,1)}})}}},"720e":function(t,s,e){"use strict";var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"coupon-list"},[[s("div",{staticClass:"list"},t._l(t.list,(function(e,i){return s("div",{key:i,staticClass:"item"},[s("div",{staticClass:"item-top"},[s("div",{staticClass:"item-top-left"},[s("p",{staticClass:"dzq-title"},[t._v(t._s(e.title))]),s("p",{staticClass:"dzq-date"},[t._v("有效期至 "+t._s(e.endTime))])]),s("div",{staticClass:"item-top-right"},[t._v(" ￥"+t._s(e.money||e.jian)+" ")])]),s("div",{staticClass:"good-item"}),s("div",{staticClass:"other-info"},[s("div",{staticClass:"left"},[s("div",{staticClass:"created-time",on:{click:function(s){return t.toggleDetail(e,i)}}},[t._v(" 使用规则 "),s("div",{staticClass:"img-box",class:{rotate:e.showRule}},[s("van-icon",{attrs:{name:"play"}})],1)])]),s("div",{staticClass:"right"},["couponCenter"==t.$route.name?[1==e.if_ke_lingqu?s("van-button",{attrs:{color:"#000"},on:{click:function(s){return t.coupon_pick(e.id,e)}}},[t._v("领取")]):s("van-button",{attrs:{color:"#CFCFCF"}},[t._v("已领取")])]:t._e(),"myCoupon"==t.$route.name?[0==e.status?s("van-button",{attrs:{color:"#F19500"},on:{click:function(s){return t.coupon_use(e)}}},[t._v("使用")]):s("van-button",{attrs:{color:"#CFCFCF"}},[t._v("已使用")])]:t._e()],2)]),e.showRule?s("div",{staticClass:"total-money"},[s("p",[t._v(t._s(e.tiaojian))]),s("div",[t._v(" "+t._s(e.content)+" ")])]):t._e()])})),0)],t._e(),t.list.length||"myCoupon"!=t.$route.name?t._e():s("div",{staticClass:"empty-container"},[t._m(0),s("div",{staticClass:"text"},[t._v("暂无优惠券")]),s("div",{staticClass:"btn-box"},[s("button",{on:{click:function(s){return t.toRoute("/couponCenter")}}},[t._v("去领取")])])])],2)},a=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"img-box"},[s("img",{attrs:{src:e("d5e2"),alt:""}})])}],n=(e("4e3f"),{name:"List",props:["list"],data(){return{}},watch:{},created(){},methods:{toggleDetail(t,s){t.showRule=!t.showRule,this.list.splice(s,1,t)},coupon_pick(t,s){this.$api("users_yhqLingqu",{id:t}).then(t=>{let{code:s,message:e}=t;alert(e),1==s&&this.$parent.setView()})},coupon_use(t){this.$router.push({path:"/goodsFilter?coupon_id="+t.id})}}}),o=n,c=(e("a518"),e("0b56")),u=Object(c["a"])(o,i,a,!1,null,"0fd882ba",null);s["a"]=u.exports},a518:function(t,s,e){"use strict";e("c263")},c263:function(t,s,e){},d5e2:function(t,s,e){t.exports=e.p+"img/empty-coupon.19e2b778.png"},fb42:function(t,s,e){}}]);