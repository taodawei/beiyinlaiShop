(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0517b176"],{"0066":function(t,i,o){"use strict";o.r(i);var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"container"},[i("div",{staticClass:"content"},[i("div",{staticClass:"order-state-box"},[i("div",{staticClass:"text-1"},[t._v(" "+t._s(t.orderObj.status_info)+" ")]),3==t.orderObj.status?i("div",{staticClass:"text-2"},[t._v("订单将于"+t._s(t.webConfig.time_shouhuo)+"天后自动收货")]):t._e(),i("div",{staticClass:"shouhuo-info"},[i("div",{staticClass:"name-box"},[i("div",{staticClass:"left"},[t._v("收货人：")]),i("div",{staticClass:"right"},[t._v(t._s(t.shouhuo_info.name)+" "+t._s(t.shouhuo_info.phone))])]),i("div",{staticClass:"address-box"},[i("div",{staticClass:"left"},[t._v("收货地址：")]),i("div",{staticClass:"right"},[t._v(t._s(t.shouhuo_info.address))])])])]),i("div",{staticClass:"goods-info"},[i("div",{staticClass:"main-title"},[t._v("商品详情")]),i("div",{staticClass:"goods-box"},t._l(t.goods_list,(function(o,e){return i("div",{key:e,staticClass:"goods-item"},[i("div",{staticClass:"img-box",on:{click:function(i){t.orderObj.tuan_info&&t.orderObj.tuan_info.id?t.mix_goods_detail_group_link(o.id):t.mix_goods_detail_link(o.id)}}},[i("img",{staticClass:"cover",attrs:{src:o.image,alt:""}})]),i("div",{staticClass:"info-box"},[i("div",{staticClass:"title",on:{click:function(i){t.orderObj.tuan_info&&t.orderObj.tuan_info.id?t.mix_goods_detail_group_link(o.id):t.mix_goods_detail_link(o.id)}}},[t._v(t._s(o.title))]),i("div",{staticClass:"guige"},[t._v(t._s(t._f("f_guige")(o.key_vals)))]),i("div",{staticClass:"price"},[i("span",{staticClass:"price-num"},[t._v("￥ "+t._s(o.price_sale))]),i("span",{staticClass:"number"},[t._v("x "+t._s(o.num))])])])])})),0)]),i("div",{staticClass:"order-info"},[i("div",{staticClass:"main-title"},[t._v("物流详情")]),t.fahuo_info&&t.fahuo_info.company?i("div",[i("b",[t._v("快递公司：")]),i("span",[t._v(t._s(t.fahuo_info.company))])]):t._e(),t.fahuo_info&&t.fahuo_info.company?i("div",[i("b",[t._v("快递单号：")]),i("span",[t._v(t._s(t.fahuo_info.order_id))]),i("van-button",{directives:[{name:"copy",rawName:"v-copy",value:t.copyText_code_wuliu,expression:"copyText_code_wuliu"}],staticClass:"btn-copy",attrs:{size:"small"},on:{click:t.onClickCopy}},[t._v("复制")])],1):t._e(),i("div",{staticClass:"wuliu-jindu-box"},[t.list_wuliu_step.length?[i("van-steps",{attrs:{direction:"vertical",active:0}},t._l(t.list_wuliu_step,(function(o,e){return i("van-step",{key:e},[i("h3",[t._v(t._s(o.context))]),i("p",[t._v(t._s(o.time))])])})),1)]:[i("div",{staticClass:"wuliu-empty"},[t._v(" 暂无物流信息... ")])]],2)])])])},s=[],r=(o("4e3f"),o("36fc")),a=o("7736"),n={name:"order-detail",components:{},data(){return{order_id:this.$route.query.order_id,orderObj:{},shouhuo_info:{},pay_info:{},fahuo_info:{},is_payed:!1,is_fahuo:!1,dialog_kefu_visible:!1,showAction_operate:!1,actions_operate:[{name:"取消订单"},{name:"立即支付"},{name:"确认收货"},{name:"评价订单"},{name:"删除订单"},{name:"再次购买"}],currency:"￥",curr:{},status:"",shequ:{},total_money:"",list_wuliu_step:[]}},computed:{...Object(a["b"])(["qrcode_kefu"]),goods_list(){let t=[];return this.orderObj&&this.orderObj.products&&(t=this.orderObj.products.filter(t=>t.id==this.$route.query.inventoryId)),t},copyText_code_order(){let t="";return this.orderObj.orderId&&(t=this.orderObj.orderId),t},copyText_code_wuliu(){let t="";return this.orderObj.fahuo_info&&this.orderObj.fahuo_info.order_id&&(t=this.orderObj.fahuo_info.order_id),t},copyText_code_tihuoma(){let t="";return this.orderObj.shequ&&this.orderObj.shequ.tihuoma&&(t=this.orderObj.shequ.tihuoma),t},pageStateText(){let t="";return this.curr&&this.orderObj.status&&(t={"-5":"待支付","-3":"售后处理中","-1":"无效",0:"待成团",2:"待发货",3:"待收货",4:"已收货"}[this.orderObj.status]),t},showMendian(){return 1==this.orderObj.peisong_type},goods_money(){let t=0;return this.orderObj.products&&this.orderObj.products.length&&this.orderObj.products.forEach(i=>{t+=+i.price_sale}),t},coupon_money(){let t=0;return this.orderObj.pay_info&&this.orderObj.pay_info.yhq&&(t=this.orderObj.pay_info.yhq),t}},watch:{orderObj(t){let{shouhuo_info:i,status:o,pay_info:e,products:s}=t;if(this.shouhuo_info=i,this.pay_info=e,-5!=o&&-1!=o&&0!=o&&(this.is_payed=!0),s&&s.length){let t=s.find(t=>t.id==this.$route.query.inventoryId);t.fahuo_info&&t.fahuo_info.company&&(this.fahuo_info=t.fahuo_info,this.is_fahuo=!0)}}},created(){this.setView()},methods:{toBack(){"orderPaymentSuccess"==this.$route.query.from?this.$router.push("myOrder"):this.$router.back()},setView(){this.mix_order_detail(this.order_id,t=>{if(this.orderObj=t,this.$route.query.inventoryId){let i=t.products.find(t=>t.id==this.$route.query.inventoryId);i&&i.fahuo_info&&i.fahuo_info.id&&this.query_wuliu(i.fahuo_info.id)}})},query_wuliu(t){this.$api("Express_kd100Info",{fahuo_id:t,type:0}).then(t=>{console.log("物流信息",t);let{code:i,data:o}=t;1==i&&(this.list_wuliu_step=o)})},onSelect_operate(t,i){console.log({...t},i);let o=t.name;this.handleOrderAction({name:o})},handleOrderAction(t){let i=this.order_id;console.log({...t});let o=t.name;"取消订单"==o?r["a"].confirm({title:"取消订单？"}).then(()=>{this.mix_order_cancel(i,()=>{this.setView()})}).catch(()=>{}):"删除订单"==o?this.mix_order_delete(i,()=>{this.$router.back()}):"立即支付"==o?this.mix_order_payment_link(i):"确认收货"==o?r["a"].confirm({title:"确认收货？",message:"为了保证您的售后权益，请收到货无误后，再确定收货哦！"}).then(()=>{this.mix_order_qianshou(i,()=>{this.setView()})}).catch(()=>{}):"评价订单"==o?this.mix_order_review_link(i):"申请售后"==o?this.mix_order_refund_link(i):"分享拼团"==o&&(alert("分享拼团"),this.$refs.modalGoodsGroupShare.init(this.orderObj))},onClickCopy(){alert("复制成功")},onSearchWuliu(){window.location.href="https://m.kuaidi100.com/"}}},d=n,_=(o("6986"),o("0b56")),u=Object(_["a"])(d,e,s,!1,null,"f62d2e80",null);i["default"]=u.exports},6986:function(t,i,o){"use strict";o("f664")},f664:function(t,i,o){}}]);