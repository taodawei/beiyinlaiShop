(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-185c70f4"],{"45e0":function(e,t,s){},"51fe":function(e,t,s){"use strict";s("45e0")},cd16:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page"},[t("van-nav-bar",{attrs:{title:e.pageTitle,"left-arrow":"",fixed:!0},on:{"click-left":e.onClickLeft}}),t("div",{staticClass:"fixed-top"},[t("div",{staticClass:"search-box"},[t("van-search",{attrs:{shape:"round",background:"#fff",placeholder:"输入关键字搜索"},on:{search:e.onSearchByKeyWord},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),t("div",{staticClass:"header filter-box"},[t("van-dropdown-menu",[t("van-dropdown-item",{attrs:{title:"综合",options:e.opts_zonghe},on:{change:e.onChange_sort_zonghe},model:{value:e.selected_zonghe,callback:function(t){e.selected_zonghe=t},expression:"selected_zonghe"}}),t("van-dropdown-item",{attrs:{title:"销量",options:e.opts_sale_num},on:{change:e.onChange_sort_sale_num},model:{value:e.selected_sale_num,callback:function(t){e.selected_sale_num=t},expression:"selected_sale_num"}}),t("van-dropdown-item",{attrs:{title:"价格",options:e.opts_price},on:{change:e.onChange_sort_price},model:{value:e.selected_price,callback:function(t){e.selected_price=t},expression:"selected_price"}})],1)],1)]),t("div",{staticClass:"inner"},[t("div",{staticClass:"list-box"},[t("searchGoodsListInfinity",{attrs:{params:e.params}})],1)])],1)},r=[],a=(s("4e3f"),s("7736")),l=s("2c12"),n={name:"promotion",components:{searchGoodsListInfinity:l["a"]},data(){let e={tags:this.$route.query.tag};return{opts_zonghe:[{text:"默认排序",value:"ordering"}],opts_price:[{text:"价格升序",value:"asc"},{text:"价格降序",value:"desc"}],opts_sale_num:[{text:"销量升序",value:"asc"},{text:"销量降序",value:"desc"}],selected_zonghe:"",selected_price:"",selected_sale_num:"",list:[],params:e,keyword:this.$route.query.keyword||""}},computed:{...Object(a["b"])(["pageScrollTopMap"]),scrollTop(){return this.pageScrollTopMap["goodsFilter"]},pageTitle(){return this.$route.query.tag||this.$route.query.filter||this.$route.query.cate_title||"商品"}},watch:{},beforeRouteLeave(e,t,s){if("goodsDetail"===e.name){let e=this.getScrollWrap(),t=e.scrollTop;this.$store.commit("set_pageScrollTopMap",{page:"goodsFilter",scrollTop:t})}s()},activated(){console.log("goodsFilter"),this.$nextTick(()=>{let e=this.getScrollWrap();document&&e&&(e.scrollTop=this.scrollTop)})},created(){},methods:{getScrollWrap(){return document.querySelector(".inner")||{}},onSearchByKeyWord(){this.set_params_all({keyword:this.keyword})},onClickLeft(){this.$route.query&&this.$route.query.wxshare?this.$router.push("/"):this.$router.back()},onChange_sort_zonghe(e){console.log("综合",e),this.selected_price="",this.selected_sale_num="",this.set_params_all({order1:e})},onChange_sort_sale_num(e){console.log("销量",e),this.selected_price="",this.selected_zonghe="",this.set_params_all({order1:"orders",order2:e})},onChange_sort_price(e){console.log("售价",e),this.selected_sale_num="",this.selected_zonghe="",this.set_params_all({order1:"price_sale",order2:e})},set_params_all(e){this.params={...this.params,...e}}}},c=n,i=(s("51fe"),s("0b56")),d=Object(i["a"])(c,o,r,!1,null,"4471c3ee",null);t["default"]=d.exports}}]);