(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3810530c"],{"6a12":function(s,t,e){},af31:function(s,t,e){"use strict";e("6a12")},c825:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s._self._c;return t("div",{staticClass:"user-container"},[t("div",{directives:[{name:"show",rawName:"v-show",value:s.showSaveImg,expression:"showSaveImg"}],ref:"saveImgBox",staticClass:"save-img-box"}),t("div",{staticClass:"content-box"},[t("div",{ref:"capture",staticClass:"content"},[t("div",{staticClass:"top"},[t("div",{staticClass:"top-box"},[t("div",{staticClass:"img-box avatar-box cover"},[t("img",{attrs:{src:s.baseInfo.user_image||s.defaultAvatar}})]),t("div",{staticClass:"info-box"},[t("div",{staticClass:"name"},[s._v(s._s(s.baseInfo.name))])])])]),t("div",{staticClass:"bottom"},[t("div",{staticClass:"img-box"},[t("div",{staticClass:"vue-qr-wrap"},[t("vue-qr",{attrs:{text:s.qrcodeConfig.url,size:400,callback:s.qrcodeCallback}})],1)]),t("div",{staticClass:"text"},[t("div",{staticClass:"desc"},[s._v("“"+s._s(s.baseInfo.name)+"”邀请您 "),t("br"),s._v("使用"+s._s(s.webTitle)+"，邀请好友返余额 "),t("br"),s._v("长按识别二维码")])])])]),s._m(0)])])},i=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"download"},[t("span",[s._v("保存图片")]),s._v(" "),t("span",{staticClass:"down-icon"})])}],o=(e("4e3f"),e("0057")),r=e.n(o),n=e("0ef5"),c=e.n(n),l=e("7736"),u={name:"inviteCode",components:{VueQr:c.a},data(){return{showSaveImg:!1}},computed:{...Object(l["b"])(["baseInfo","defaultAvatar","webTitle","webLink"]),qrcodeConfig(){let s=window.location.origin,t=localStorage.getItem("user_id"),e={url:s+"?fromId="+t};return console.log("邀请链接",e),e}},watch:{},created(){this.setView()},mounted(){},methods:{setView(){this.$loading.showNotClose("二维码生成中"),this.$store.dispatch("users_userInfo")},qrcodeCallback(){setTimeout(()=>{this.saveAsImg()},1e3)},saveAsImg(){let s=document.querySelector(".save-img-box img");s&&this.$refs.saveImgBox.removeChild(s),new r.a(this.$refs.capture,{useCORS:!0,allowTaint:!0,scale:2}).then(s=>{let t=new Image;t.src=s.toDataURL(),this.$refs.saveImgBox.appendChild(t),this.showSaveImg=!0,alert("邀请码生成成功，长按保存！"),this.$loading.hide()})},onClickLeft(){this.$route.query&&this.$route.query.wxshare?this.$router.push("/"):this.$router.back()},onClickRight(){this.$router.push({path:"/bonusRule"})}}},d=u,v=(e("af31"),e("0b56")),h=Object(v["a"])(d,a,i,!1,null,"3ff96c51",null);t["default"]=h.exports}}]);