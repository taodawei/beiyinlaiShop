(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d404d36"],{4652:function(e,t,a){"use strict";a("d5d8")},b480:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page"},[t("van-nav-bar",{attrs:{title:e.pageTitle,"left-arrow":"",fixed:!0},on:{"click-left":function(t){return e.$router.back()}}}),t("div",{staticClass:"inner"},[t("div",{staticClass:"good-box"},[t("goodListInfinity",{attrs:{params:e.params}})],1)])],1)},s=[],n=(a("4e3f"),a("8008")),o={name:"category-detail",components:{goodListInfinity:n["a"]},data(){return{useCache:!1,params:{channel_id:this.$route.query.id},channel_arr:[],list_all_channel:[]}},computed:{scrollTop(){return this.pageScrollTopMap[this.$route.name]},pageTitle(){let e=this.list_all_channel.find(e=>e.id==this.$route.query.id)||{};return e.title}},beforeRouteEnter(e,t,a){a(e=>{t.name&&t.name.includes("goodsDetail")?e.useCache=!0:e.useCache=!1})},beforeRouteLeave(e,t,a){let l=this.getScrollWrap(),s=l.scrollTop;e.name.includes("goodsDetail")?this.$store.commit("set_pageScrollTopMap",{page:this.$route.name,scrollTop:s}):this.$store.commit("set_pageScrollTopMap",{page:this.$route.name,scrollTop:0}),a()},activated(){console.log("首页 activated"),this.useCache||this.params.channel_id!=this.$route.query.id&&(this.params={channel_id:this.$route.query.id}),this.$nextTick(()=>{let e=this.getScrollWrap();document&&e&&(e.scrollTop=this.scrollTop)})},created(){this.setView()},methods:{getScrollWrap(){return document.querySelector(".page")||{}},setView(){this.$api("product_channel").then(e=>{let{code:t,data:a}=e;1==t&&(this.channel_arr=a,this.setAllChannel(a))})},setAllChannel(e){let t=[];e.forEach(e=>{let a={...e,channels:[]};t.push(a),e.channels.length&&e.channels.forEach(e=>{let a={...e,channels:[]};t.push(a),e.channels.length&&e.channels.forEach(e=>{let a={...e,channels:[]};t.push(a)})})}),console.log("所有的分类信息",t),this.list_all_channel=t}}},i=o,r=(a("4652"),a("0b56")),c=Object(r["a"])(i,l,s,!1,null,"56b13752",null);t["default"]=c.exports},d5d8:function(e,t,a){}}]);