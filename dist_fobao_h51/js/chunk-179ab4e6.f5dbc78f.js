(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-179ab4e6"],{"8fec":function(t,s,e){},b56e:function(t,s,e){"use strict";e.r(s);e("4e3f");var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"page"},[s("van-nav-bar",{attrs:{title:"自取"==t.$route.query.mode?"自取订单":"全部订单","left-arrow":"",fixed:!0},on:{"click-left":function(s){return t.$router.push("/userCenter")}}}),s("div",{staticClass:"tab-box"},[s("van-tabs",{model:{value:t.order_status,callback:function(s){t.order_status=s},expression:"order_status"}},t._l(t.order_status_list,(function(t,e){return s("van-tab",{key:e,attrs:{name:t.status,title:t.title}})})),1)],1),s("div",{staticClass:"inner"},[t.list_order.length?s("div",{staticClass:"list"},t._l(t.list_order,(function(e,i){return s("div",{key:e.id,staticClass:"item"},[s("div",{staticClass:"state-info"},[s("div",{staticClass:"left"},[t._v("订单号："+t._s(e.order_id))]),s("div",{staticClass:"right"},[t._v(" "+t._s(e.status_info)+" ")])]),s("div",{staticClass:"goods-info"},t._l(e.products,(function(i,a){return s("div",{key:i.id,staticClass:"good-item",on:{click:function(s){return t.toRoute("/orderDetail?order_id="+e.id)}}},[s("div",{staticClass:"img-box"},[s("img",{attrs:{src:i.image,alt:""}})]),s("div",{staticClass:"detail-box"},[s("div",{staticClass:"top"},[t._v(t._s(i.title))]),s("div",{staticClass:"center"},[s("span",[t._v(t._s(t._f("f_guige")(i.key_vals)))])]),s("div",{staticClass:"bottom"},[s("div",{staticClass:"price"},[t._v(" "+t._s(t._f("format_currency")(e.pay_type))+" "+t._s(8==e.pay_type?i.jifen/i.num:i.price_sale)+" ")]),s("span",{staticClass:"num"},[t._v("x "+t._s(i.num))])])])])})),0),s("div",{staticClass:"other-info"},[s("div",{staticClass:"left"},[s("div",{staticClass:"created-time"},[t._v("下单时间："+t._s(e.dtTime))]),s("div",{staticClass:"total-money"},[t._v(" "+t._s(e.isPay?"实付":"订单金额")+"： "),s("span",{staticClass:"money"},[t._v("￥"+t._s(e.price))])])]),s("div",{staticClass:"right"},[s("van-button",{staticClass:"order-action",attrs:{size:"small",type:"warning"},on:{click:function(s){return t.mix_order_detail_link(e.id)}}},[t._v("详情")]),t._l(e.actions,(function(i,a){return s("van-button",{key:a,staticClass:"order-action",class:i.type,attrs:{size:"small",type:"warning"},on:{click:function(s){return t.handleOrderAction(i,e.id)}}},[t._v(t._s(i.name))])}))],2)])])})),0):s("div",{staticClass:"empty-container"},[s("van-empty",{staticClass:"custom-image",attrs:{description:"未查询到订单信息"}})],1)])],1)},a=[],r=e("36fc"),n=e("7736"),o={name:"my-order",components:{},data(){return{order_status:this.$route.query.order_status||0,order_status_list:[{status:"0",title:"全部"},{status:"1",title:"待支付"},{status:"2",title:"待发货"},{status:"3",title:"待收货"},{status:"4",title:"待评价"}],list_order:[],count:0,keyword:"",scene:"",mode:"order",list:[],active_tab:"",pagination:{page:1,pagenum:1e3,count:0}}},watch:{order_status(){this.setView()}},computed:{...Object(n["b"])(["defaultAddress"])},filters:{format_currency(t){let s="￥";return 8==t&&(s="积分"),s}},created(){this.setView()},methods:{onSearch(){this.set_searchParams({keyword:this.keyword})},setView(){this.$api("orders_lists",{keyword:this.keyword,scene:this.order_status,...this.pagination}).then(t=>{let{code:s,data:e,message:i,count:a}=t;1==s&&(e.forEach(t=>{t.isPay=t.status>=0,t.actions=this.getOrderActionsByStatus({...t})}),this.list_order=e,this.count=a)})},handleOrderAction(t,s){console.log({...t});let e=t.name;"取消订单"==e?r["a"].confirm({title:"信息提示？",message:"确认取消该订单?"}).then(()=>{this.mix_order_cancel(s,()=>{this.$router.push("/orderCancelSuccess")})}).catch(()=>{}):"删除订单"==e?r["a"].confirm({title:"信息提示？",message:"确认删除该订单?"}).then(()=>{this.mix_order_delete(s,()=>{this.setView()})}).catch(()=>{}):"立即支付"==e?this.mix_order_payment_link(s):"确认收货"==e?r["a"].confirm({title:"确认收货？",message:"为了保证您的售后权益，请收到货无误后，再确定收货哦！"}).then(()=>{this.mix_order_qianshou(s,()=>{this.setView()})}).catch(()=>{}):"评价订单"==e?this.mix_order_review_link(s):"申请售后"==e&&this.mix_order_refund_link(s)}}},c=o,l=(e("c352"),e("0b56")),d=Object(l["a"])(c,i,a,!1,null,"84a3038c",null);s["default"]=d.exports},c352:function(t,s,e){"use strict";e("8fec")}}]);