(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-bind_phone-bind_phone"],{"0c3e":function(e,n,t){"use strict";var i=t("aae1"),o=t.n(i);o.a},"453f":function(e,n,t){"use strict";var i;t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return i}));var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",[e.user_info.user_id?e._e():t("v-uni-view",{staticClass:"m-btn",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.weixinAuth.apply(void 0,arguments)}}},[t("v-uni-text",[e._v("微信授权")])],1),1!=e.user_info.if_edit_phone?[t("v-uni-view",{staticClass:"mobile"},[t("v-uni-input",{attrs:{type:"number",value:"",placeholder:"请输入手机号","placeholder-style":"color:#A7A7A7"},model:{value:e.mobile,callback:function(n){e.mobile=n},expression:"mobile"}})],1),t("v-uni-button",{staticClass:"m-btn",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.bindphone.apply(void 0,arguments)}}},[t("v-uni-text",[e._v("确定")])],1)]:e._e()],2)},a=[]},"7c54":function(e,n,t){"use strict";t.r(n);var i=t("8892"),o=t.n(i);for(var a in i)"default"!==a&&function(e){t.d(n,e,(function(){return i[e]}))}(a);n["default"]=o.a},8892:function(e,n,t){"use strict";var i=t("4ea4");t("4d63"),t("ac1f"),t("25f0"),t("466d"),t("841c"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("527b"),a=i(t("40e0")),r={data:function(){return{user_info:{},system_info:{},isWeixin:!1,mobile:""}},onLoad:function(){this.user_info=uni.getStorageSync("user_info"),this.system_info=uni.getStorageSync("system_info")},methods:{to_link:o.to_link,getUserInfo:function(e){var n=this;(0,o.get_userInfo)((function(t){n.user_info=t,"function"==typeof e&&e()}))},getPhoneNumber:function(e){var n=this,t={encryptedData:e.detail.encryptedData,iv:e.detail.iv};console.log(e,"phone"),a.default.getJson("users_bindWxPhone",t).then((function(e){if(console.log(e),1==e.code){var t=uni.getStorageSync("user_info");t.user_id=e.data.user_id,t.token=e.data.token,uni.setStorageSync("user_info",t),n.getUserInfo(),(0,o.msg)("绑定成功",(function(){(0,o.to_back)()}))}else(0,o.msg)(e.message)}))},get_user_info:function(e){var n=this;uni.getUserProfile({desc:"获取您的头像信息",success:function(e){if("getUserProfile:ok"==e.errMsg){var t={};t.nickname=e.userInfo.nickName,t.avatarurl=e.userInfo.avatarUrl,a.default.getJson("users_wxRegist",t).then((function(e){(0,o.msg)(e.message),1==e.code&&n.getUserInfo()}))}}})},weixinAuth:function(){var e=this;e.weachtAuthorization()},weachtAuthorization:function(){var e="wxd4b0efbea1a575d9",n="https://ycx.67.zhishangez.cn/";window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+e+"&redirect_uri="+n+"&response_type=code&scope=snsapi_userinfo#wechat_redirect"},getQueryString:function(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(n);return null!=t?unescape(t[2]):null},bindphone:function(){var e=/^[1][3,4,5,7,8,9][0-9]{9}$/;e.test(this.mobile)||uni.showToast({title:"请输入正确的手机号",icon:"none"}),a.default.getJson("users_bindPhone",{phone:this.mobiles}).then((function(e){1==e.code?(0,o.msg)(e.message):(0,o.msg)("绑定成功",(function(){(0,o.to_back)()}))}))}}};n.default=r},aae1:function(e,n,t){var i=t("f185");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=t("4f06").default;o("41226912",i,!0,{sourceMap:!1,shadowMode:!1})},b78c:function(e,n,t){"use strict";t.r(n);var i=t("453f"),o=t("7c54");for(var a in o)"default"!==a&&function(e){t.d(n,e,(function(){return o[e]}))}(a);t("0c3e");var r,s=t("f0c5"),u=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"6c76886a",null,!1,i["a"],r);n["default"]=u.exports},f185:function(e,n,t){var i=t("24fb");n=i(!1),n.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/*文字颜色*/\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */.m-logo[data-v-6c76886a]{display:flex;justify-content:center;border-radius:50%;margin-top:%?250?%}.m-logo uni-image[data-v-6c76886a]{width:%?230?%;height:%?230?%}.m-btn[data-v-6c76886a]{display:flex;margin:0;padding:0;justify-content:center;align-items:center;line-height:%?90?%;width:%?480?%;height:%?80?%;background:red;margin-left:%?20?%;font-size:%?30?%;color:#fff;font-weight:800;border-radius:%?8?%;border:0;margin:%?90?% auto 0 auto}.m-text[data-v-6c76886a]{display:flex;justify-content:center;position:fixed;bottom:%?80?%;font-size:%?24?%;color:#333;text-align:center;width:%?750?%}.m-text .m-text-font1[data-v-6c76886a]{color:red}.mobile[data-v-6c76886a]{display:flex;margin:0;padding:0;align-items:center;line-height:%?90?%;width:%?480?%;height:%?80?%;color:#a7a7a7;border:1px solid #ccc;padding-left:%?16?%;font-size:%?24?%;border-radius:%?8?%;margin:%?90?% auto 0 auto}',""]),e.exports=n}}]);