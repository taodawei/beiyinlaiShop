(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-bind_phone-bind_phone"],{3937:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"m-logo"},[e.system_info.logo?n("v-uni-image",{attrs:{src:e.system_info.logo,mode:"widthFix"}}):n("v-uni-image",{attrs:{src:"/static/index/logo.png",mode:"widthFix"}})],1),n("v-uni-view",{staticClass:"m-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.weixinAuth.apply(void 0,arguments)}}},[n("v-uni-text",[e._v("微信授权")])],1)],1)},r=[]},"7c54":function(e,t,n){"use strict";n.r(t);var i=n("8892"),o=n.n(i);for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=o.a},"87cf":function(e,t,n){var i=n("a561");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=n("4f06").default;o("75d1c168",i,!0,{sourceMap:!1,shadowMode:!1})},8892:function(e,t,n){"use strict";var i=n("4ea4");n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("841c"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("527b"),r=i(n("40e0")),a={data:function(){return{user_info:{},system_info:{},isWeixin:!1}},onLoad:function(){this.user_info=uni.getStorageSync("user_info"),this.system_info=uni.getStorageSync("system_info")},methods:{to_link:o.to_link,getUserInfo:function(e){var t=this;(0,o.get_userInfo)((function(n){t.user_info=n,"function"==typeof e&&e()}))},getPhoneNumber:function(e){var t=this,n={encryptedData:e.detail.encryptedData,iv:e.detail.iv};console.log(e,"phone"),r.default.getJson("users_bindWxPhone",n).then((function(e){if(console.log(e),1==e.code){var n=uni.getStorageSync("user_info");n.user_id=e.data.user_id,n.token=e.data.token,uni.setStorageSync("user_info",n),t.getUserInfo(),(0,o.msg)("绑定成功",(function(){(0,o.to_back)()}))}else(0,o.msg)(e.message)}))},get_user_info:function(e){var t=this;uni.getUserProfile({desc:"获取您的头像信息",success:function(e){if("getUserProfile:ok"==e.errMsg){var n={};n.nickname=e.userInfo.nickName,n.avatarurl=e.userInfo.avatarUrl,r.default.getJson("users_wxRegist",n).then((function(e){(0,o.msg)(e.message),1==e.code&&t.getUserInfo()}))}}})},weixinAuth:function(){var e=this;e.weachtAuthorization()},weachtAuthorization:function(){var e="wxd4b0efbea1a575d9",t="https://ycx.67.zhishangez.cn/";window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+e+"&redirect_uri="+t+"&response_type=code&scope=snsapi_userinfo#wechat_redirect"},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}}};t.default=a},a561:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/*文字颜色*/\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */.m-logo[data-v-754ca386]{display:flex;justify-content:center;border-radius:50%;margin-top:%?250?%}.m-logo uni-image[data-v-754ca386]{width:%?230?%;height:%?230?%}.m-btn[data-v-754ca386]{display:flex;margin:0;padding:0;justify-content:center;align-items:center;line-height:%?90?%;width:%?480?%;height:%?80?%;background:red;margin-left:%?20?%;font-size:%?30?%;color:#fff;font-weight:800;border-radius:%?8?%;border:0;margin:%?90?% auto 0 auto}.m-text[data-v-754ca386]{display:flex;justify-content:center;position:fixed;bottom:%?80?%;font-size:%?24?%;color:#333;text-align:center;width:%?750?%}.m-text .m-text-font1[data-v-754ca386]{color:red}',""]),e.exports=t},b78c:function(e,t,n){"use strict";n.r(t);var i=n("3937"),o=n("7c54");for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("fefb");var a,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"754ca386",null,!1,i["a"],a);t["default"]=c.exports},fefb:function(e,t,n){"use strict";var i=n("87cf"),o=n.n(i);o.a}}]);